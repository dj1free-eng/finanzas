<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>EconomÃ­a Familiar Â· v1.1c</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="toast" id="toast"></div>

  <!-- Modal ediciÃ³n genÃ©rica -->
  <div class="modal-overlay" id="editModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title" id="modalTitle">Editar</div>
        <button class="modal-close" id="modalClose">âœ•</button>
      </div>
      <div id="modalContent"></div>
      <div class="modal-footer">
        <button class="btn btn-outline" id="modalCancel">Cancelar</button>
        <button class="btn btn-primary" id="modalSave">Guardar cambios</button>
      </div>
    </div>
  </div>

  <!-- Modal confirmaciÃ³n borrado -->
  <div class="modal-overlay" id="confirmModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Confirmar eliminaciÃ³n</div>
        <button class="modal-close" id="confirmClose">âœ•</button>
      </div>
      <div id="confirmMessage">Â¿Seguro que quieres eliminar este elemento?</div>
      <div class="modal-footer">
        <button class="btn btn-outline" id="confirmCancel">Cancelar</button>
        <button class="btn btn-danger" id="confirmOk">Eliminar</button>
      </div>
    </div>
  </div>

  <header>
    <div class="header-inner">
      <div class="title-row">
        <div class="title-main">
  <div class="user-avatar" id="userAvatar">
    <div class="user-avatar-circle">
      <div class="user-avatar-emoji" id="userAvatarEmoji">ğŸ’°</div>
    </div>
    <div class="user-avatar-tag" id="userAvatarTag">EF</div>
  </div>
  <div class="title-text">
    <strong>EconomÃ­a Familiar Â· v1.1c</strong>
    <span>Control total de gastos e ingresos</span>
  </div>
</div>
        <div class="month-nav-container">
          <button class="month-nav-btn" id="btnPrevMonth">â—€</button>
          <div class="month-display" id="monthDisplay">Enero 2024</div>
          <button class="month-nav-btn" id="btnNextMonth">â–¶</button>
          <div class="month-picker-dropdown" id="monthPickerDropdown">
            <div class="month-picker-header">
              <button class="year-nav-btn" id="yearPrev">â—€</button>
              <div class="month-picker-year" id="pickerYear">2024</div>
              <button class="year-nav-btn" id="yearNext">â–¶</button>
            </div>
            <div class="months-grid" id="monthsGrid"></div>
          </div>
        </div>
      </div>
      <div class="chips-row">
        <div class="chip in">
          <span>ğŸ’µ Entradas</span>
          <strong id="chipIngresos">0 â‚¬</strong>
        </div>
        <div class="chip out">
          <span>ğŸ’¸ Gastos</span>
          <strong id="chipGastos">0 â‚¬</strong>
        </div>
        <div class="chip balance-pos" id="chipBalanceWrap">
          <span>ğŸ“Š Balance</span>
          <strong id="chipBalance">0 â‚¬</strong>
          <small id="chipHuchasTotal" class="chip-subline">Huchas: 0 â‚¬</small>
        </div>
      </div>
    </div>
  </header>

  <div class="app">
    <main class="tabs-container">
      <div class="tabs-wrapper">

      <!-- INGRESOS -->
      <section class="tab-section active" data-tab="ingresos">
        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ’° Ingresos base mensuales</div>
              <div class="card-subtitle">
                Define los ingresos fijos que entran cada mes en tu hogar.
              </div>
            </div>
            <div class="card-tag">Ingresos</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
<label id="labelIngresoPrincipal">Juan (â‚¬ / mes)</label>
                <input type="number" id="ingJuan" step="0.01" inputmode="decimal" min="0" placeholder="0.00" />
              </div>
              <div class="field-group">
                <label>Saray (â‚¬ / mes)</label>
                <input type="number" id="ingSaray" step="0.01" inputmode="decimal" min="0" placeholder="0.00" />
              </div>
            </div>
            <div>
              <div class="field-group">
                <label>Otros ingresos fijos (â‚¬ / mes)</label>
                <input type="number" id="ingOtros" step="0.01" inputmode="decimal" min="0" placeholder="0.00" />
              </div>
              <button class="btn btn-primary" id="btnSaveIngresos">ğŸ’¾ Guardar ingresos base</button>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ’¶ Ingresos puntuales</div>
              <div class="card-subtitle">
                Registra ingresos extra (horas extra, ventas, devoluciones...).
              </div>
            </div>
            <div class="card-tag">Extra</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
                <label>ğŸ“… Fecha</label>
                <input type="date" id="ingresoPuntualFecha" />
              </div>
              <div class="field-group">
                <label>ğŸ“ DescripciÃ³n</label>
                <input type="text" id="ingresoPuntualDesc" placeholder="Horas extra, devoluciÃ³n, venta..." />
              </div>
            </div>
            <div>
              <div class="field-group">
                <label>ğŸ’° Importe (â‚¬)</label>
                <input type="number" id="ingresoPuntualImporte" step="0.01" inputmode="decimal" min="0.01" placeholder="0.00" />
              </div>
              <button class="btn btn-success" id="btnAddIngresoPuntual">â• AÃ±adir ingreso puntual</button>
            </div>
          </div>

          <div id="ingresosPuntualesLista" class="expense-list"></div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“Š Resumen del mes</div>
              <div class="card-subtitle">
                VisiÃ³n general de tu situaciÃ³n financiera este mes.
              </div>
            </div>
            <div class="card-tag">Resumen</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
                <label>ğŸ’µ Ingresos totales</label>
                <div id="resIngMes" class="small-text" style="font-size: 1.1rem; font-weight: 600; color: #10b981;">0 â‚¬</div>
              </div>
              <div class="field-group">
                <label>ğŸ  Gastos fijos</label>
                <div id="resFijosMes" class="small-text" style="font-size: 1.1rem; font-weight: 600; color: #ef4444;">0 â‚¬</div>
              </div>
            </div>
            <div>
              <div class="field-group">
                <label>ğŸ›’ Gastos variables</label>
                <div id="resVarMes" class="small-text" style="font-size: 1.1rem; font-weight: 600; color: #f59e0b;">0 â‚¬</div>
              </div>
              <div class="field-group">
                <label>ğŸ’ Balance final</label>
                <div id="resBalMes" class="small-text" style="font-size: 1.1rem; font-weight: 600; color: #3b82f6;">0 â‚¬</div>
              </div>
            </div>
          </div>
        </section>
      </section>

 <!-- GASTOS FIJOS -->
<section class="tab-section" data-tab="fijos">
  
  <section class="card">
    <div class="card-header">
      <div>
        <div class="card-title">ğŸ  AÃ±adir gasto fijo</div>
        <div class="card-subtitle">
          Gastos recurrentes mensuales: alquiler, luz, internet, seguros, etc.
        </div>
      </div>
      <div class="card-tag">Fijos</div>
    </div>

    <div class="grid-2">
      <div>
        <div class="field-group">
          <label>Nombre del gasto</label>
          <input type="text" id="fijoNombre" placeholder="Ej: Alquiler, Luz, Internet..." />
        </div>

        <div class="field-group">
          <label>CategorÃ­a</label>
          <div class="chips-row" id="fijoCategoriaChips">
            <button type="button" class="chip chip-small" data-cat="Suministros">ğŸ’¡ Suministros</button>
            <button type="button" class="chip chip-small" data-cat="PrÃ©stamos">ğŸ’³ PrÃ©stamos</button>
            <button type="button" class="chip chip-small" data-cat="Suscripciones">ğŸ“º Suscripciones</button>
            <button type="button" class="chip chip-small" data-cat="Varios">ğŸ“¦ Varios</button>
          </div>

          <input type="hidden" id="fijoCategoria" />
        </div>
      </div>

      <div>
        <div class="field-group">
          <label>Importe mensual (â‚¬)</label>
          <input type="number" id="fijoImporte" step="0.01" inputmode="decimal" min="0" placeholder="0.00" />
        </div>

        <button class="btn btn-success" id="btnAddFijo">â• AÃ±adir gasto fijo</button>
      </div>
    </div>
  </section>

  <section class="card">
    <div class="card-header">
      <div>
        <div class="card-title">ğŸ“‹ Listado de gastos fijos</div>
        <div class="card-subtitle">
          Total mensual: <strong id="totalFijosDisplay" style="color: #ef4444;">0 â‚¬</strong>
        </div>
      </div>
      <div class="card-tag">Listado</div>
    </div>

    <!-- ğŸ”¥ BOTÃ“N AÃ‘ADIDO AQUÃ -->
    <button id="btnInformeFijos" class="btn btn-primary" style="margin-bottom: 12px;">
      Ver Informe
    </button>
    <!-- ğŸ”¥ FIN -->

    <div id="fijosTableContainer"></div>
  </section>

</section>

      <!-- GASTOS -->
      <section class="tab-section" data-tab="gastos">
        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ›’ Registrar gasto</div>
              <div class="card-subtitle">
                Apunta cada compra del dÃ­a para llevar un control exacto.
              </div>
            </div>
            <div class="card-tag">Gastos</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
                <label>ğŸ“… Fecha</label>
                <input type="date" id="gastoFecha" />
              </div>
              <div class="field-group">
                <label>ğŸ·ï¸ CategorÃ­a</label>
                <input list="catSugerencias" id="gastoCategoria" placeholder="AlimentaciÃ³n, Ocio, Huchas..." />
                <datalist id="catSugerencias"></datalist>
              </div>
            </div>
            <div>
              <div class="field-group">
                <label>ğŸ“ DescripciÃ³n</label>
                <input type="text" id="gastoDesc" placeholder="Lidl, gasolina, cine..." />
              </div>
              <div class="field-group">
                <label>ğŸ’° Importe (â‚¬)</label>
                <input type="number" id="gastoImporte" step="0.01" inputmode="decimal" min="0.01" placeholder="0.00" />
              </div>
              <button class="btn btn-primary" id="btnAddGasto">â• Guardar gasto</button>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“Š Gastos del mes</div>
              <div class="card-subtitle">
                Todos los gastos registrados en el mes seleccionado.
              </div>
            </div>
            <div class="card-tag">Listado</div>
          </div>
          <div id="gastosLista" class="expense-list"></div>
        </section>
      </section>

      <!-- SOBRES -->
      <section class="tab-section" data-tab="sobres">
        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“© Crear presupuesto</div>
              <div class="card-subtitle">
                Define cuÃ¡nto quieres gastar en cada categorÃ­a mensualmente.
              </div>
            </div>
            <div class="card-tag">Sobres</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
                <label>Nombre del sobre</label>
                <input type="text" id="sobreNombre" placeholder="AlimentaciÃ³n, Ocio, Transporte..." />
              </div>
            </div>
            <div>
              <div class="field-group">
                <label>Presupuesto mensual (â‚¬)</label>
                <input type="number" id="sobreImporte" step="0.01" inputmode="decimal" min="0" placeholder="0.00" />
              </div>
              <button class="btn btn-success" id="btnAddSobre">ğŸ’¾ Crear presupuesto</button>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“Š Estado de presupuestos</div>
              <div class="card-subtitle">
                CuÃ¡nto has gastado vs cuÃ¡nto tenÃ­as presupuestado.
              </div>
            </div>
            <div class="card-tag">Estado</div>
          </div>
          <div id="sobresLista" class="pill-list"></div>
        </section>
      </section>

      <!-- HUCHAS -->
      <section class="tab-section" data-tab="huchas">
        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ· Crear hucha de ahorro</div>
              <div class="card-subtitle">
                Guarda dinero para objetivos especÃ­ficos: viajes, compras grandes, emergencias...
              </div>
            </div>
            <div class="card-tag">Huchas</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
                <label>Nombre de la hucha</label>
                <input type="text" id="huchaNombre" placeholder="Black Friday, Viaje, PS5..." />
              </div>
              <div class="field-group">
                <label>Objetivo (â‚¬) - opcional</label>
                <input type="number" id="huchaObjetivo" step="0.01" inputmode="decimal" min="0" placeholder="0.00" />
              </div>
            </div>
            <div>
              <div class="field-group">
                <label>Saldo inicial (â‚¬) - opcional</label>
                <input type="number" id="huchaSaldoInicial" step="0.01" inputmode="decimal" min="0" placeholder="0.00" />
              </div>
              <button class="btn btn-success" id="btnAddHucha">â• Crear hucha</button>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ’° Movimientos en huchas</div>
              <div class="card-subtitle">
                Aportar crea un gasto en "Huchas". Retirar solo reduce el saldo guardado.
              </div>
            </div>
            <div class="card-tag">Movimientos</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
                <label>Seleccionar hucha</label>
                <select id="huchaSelect">
                  <option value="">-- Elige una hucha --</option>
                </select>
              </div>
              <div class="field-group">
                <label>Importe (â‚¬)</label>
                <input type="number" id="huchaImporte" step="0.01" inputmode="decimal" min="0.01" placeholder="0.00" />
              </div>
            </div>
<div>
  <div class="field-group">
    <label>AcciÃ³n</label>
    <select id="huchaAccion">
      <option value="aportar">ğŸ’µ Aportar (ahorrar dinero)</option>
      <option value="retirar">ğŸ’¸ Retirar (usar ahorros)</option>
    </select>
  </div>

  <div class="field-group">
    <label class="small-text" style="font-weight:500;">
      <input type="checkbox" id="huchaRegistrarIngreso" style="margin-right:0.4rem;">
      Registrar este retiro como ingreso puntual del mes
    </label>
  </div>

  <button class="btn btn-primary" id="btnHuchaMovimiento">ğŸ’° Registrar movimiento</button>
</div>
          </div>
          <div class="small-text" style="margin-top:0.75rem; padding: 0.75rem; background: #f0f9ff; border-radius: 8px; border-left: 3px solid #3b82f6;">
            <strong>ğŸ’¡ CÃ³mo funciona:</strong><br />
Â· <strong>Aportar:</strong> Suma al saldo de la hucha y registra un gasto en la categorÃ­a "Huchas".<br />
Â· <strong>Retirar:</strong> Resta del saldo de la hucha. Si marcas la casilla, el retiro volverÃ¡ al balance como un ingreso puntual del mes.
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“‹ Mis huchas</div>
              <div class="card-subtitle">
                Saldo actual, objetivos y progreso de cada hucha.
              </div>
            </div>
            <div class="card-tag">Listado</div>
          </div>
          <div id="huchasLista" class="pill-list"></div>
        </section>
      </section>

            <!-- CONFIG -->
      <section class="tab-section" data-tab="config">
       
                <!-- BLOQUE PRO -->
        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">â­ EconomÃ­a Familiar PRO</div>
              <div class="card-subtitle">
                Activa tu cÃ³digo PRO para desbloquear funciones avanzadas en este dispositivo.
              </div>
            </div>
            <div class="card-tag" id="proStatusTag">FREE</div>
          </div>

          <div class="field-group">
            <label for="proCodeInput">CÃ³digo PRO</label>
            <input
              type="text"
              id="proCodeInput"
              placeholder="Introduce tu cupon"
              autocomplete="off"
            />
            <div class="helper-text">
              El cÃ³digo se guarda solo en este dispositivo. PodrÃ¡s borrarlo desde â€œBorrar todos los datosâ€.
            </div>
          </div>

          <div class="field-group">
            <button class="btn btn-primary" id="btnProActivate">Activar PRO</button>
            <div id="proStatusMessage" style="margin-top:8px;font-size:0.85rem;color:var(--muted);">
              Estado actual: <strong>VersiÃ³n gratuita</strong>.
            </div>
          </div>
        </section>
        <!-- FIN BLOQUE PRO -->
        <!-- PERSONALIZACIÃ“N COMPLETA -->
        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ¨ PersonalizaciÃ³n</div>
              <div class="card-subtitle">
                Ajusta el nombre del ingreso principal, el tema visual y el avatar de la cabecera.
              </div>
            </div>
            <div class="card-tag">Perfil</div>
          </div>

          <!-- Nombre ingreso principal -->
          <div class="field-group">
            <label for="personalNombrePrincipal">Nombre del ingreso principal</label>
            <input
              type="text"
              id="personalNombrePrincipal"
              placeholder="Ej: Mi sueldo, NÃ³mina, Tu nombre..."
              autocomplete="off"
            />
            <div class="helper-text">
              Solo cambia el nombre que ves en la pantalla de ingresos. No afecta al cÃ¡lculo.
            </div>
          </div>

          <!-- Tema de la app -->
          <div class="field-group">
            <label>Tema de la aplicaciÃ³n</label>
            <div class="chips-row" id="temaChips">
              <!-- Temas FREE -->
              <button type="button" class="chip chip-selectable" data-tema="default">ClÃ¡sico</button>
              <button type="button" class="chip chip-selectable" data-tema="warm">CÃ¡lido</button>
              <button type="button" class="chip chip-selectable" data-tema="dark">Oscuro suave</button>
              <!-- Temas PRO -->
              <button type="button" class="chip chip-selectable chip-pro" data-tema="ocean">ğŸŒŠ Ocean (PRO)</button>
              <button type="button" class="chip chip-selectable chip-pro" data-tema="forest">ğŸŒ² Forest (PRO)</button>
            </div>
            <div class="helper-text">
              Los temas con etiqueta PRO solo se pueden usar si tienes activado EconomÃ­a Familiar PRO.
            </div>
          </div>

          <!-- Avatar -->
          <div class="field-group">
            <label>Avatar de la cabecera</label>
            <div class="avatar-current-row">
              <div class="avatar-circle avatar-circle-preview">
                <span class="avatar-emoji" id="avatarCurrentEmoji">ğŸ’°</span>
              </div>
              <button type="button" class="btn btn-outline" id="btnOpenAvatarModal">
                Seleccionar avatar
              </button>
            </div>
            <div class="helper-text">
              El avatar se guarda en este dispositivo y se muestra en la parte superior de la app.
            </div>
          </div>

          <!-- BotÃ³n guardar -->
          <div class="field-group">
            <button class="btn btn-primary" id="btnGuardarPersonalizacion">ğŸ’¾ Guardar personalizaciÃ³n</button>
          </div>
        </section>
        <!-- FIN PERSONALIZACIÃ“N COMPLETA -->
        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“¤ Exportar datos</div>
              <div class="card-subtitle">
                Descarga una copia de seguridad de todos tus datos en formato JSON.
              </div>
            </div>
            <div class="card-tag">Backup</div>
          </div>
          <button class="btn btn-primary" id="btnExportJson">ğŸ“¥ Descargar copia de seguridad</button>
          <div class="small-text" style="margin-top:0.75rem;">
            Guarda este archivo en un lugar seguro (iCloud, Google Drive, email...) para poder recuperar tus datos si cambias de dispositivo.
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“¥ Importar datos</div>
              <div class="card-subtitle">
                Restaura una copia de seguridad anterior.
              </div>
            </div>
            <div class="card-tag">Restaurar</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
                <label>Desde archivo JSON</label>
                <input type="file" id="importFile" accept="application/json,.json" />
              </div>
              <button class="btn btn-outline" id="btnImportJsonFile">ğŸ“¤ Importar desde archivo</button>
            </div>
            <div>
              <div class="field-group">
                <label>O pegar JSON aquÃ­</label>
                <textarea id="importJsonText" class="notes-box" placeholder="Pega el contenido del JSON..."></textarea>
              </div>
              <button class="btn btn-primary" id="btnImportJsonText">ğŸ“¤ Importar desde texto</button>
            </div>
          </div>
          <div class="warn-box">
            âš ï¸ <strong>AtenciÃ³n:</strong> Al importar se sobrescribirÃ¡n todos los datos actuales (ingresos, gastos fijos, sobres, huchas, gastos y notas).
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“„ Importar desde CSV bancario</div>
              <div class="card-subtitle">
                Importa movimientos desde el CSV de CaixaBank (Concepto;Fecha;Importe;Saldo).
              </div>
            </div>
            <div class="card-tag">CSV</div>
          </div>
          <div class="grid-2">
            <div>
              <div class="field-group">
                <label>Archivo CSV</label>
                <input type="file" id="csvFile" accept=".csv,text/csv" />
              </div>
            </div>
            <div>
              <button class="btn btn-primary" id="btnImportCsv">ğŸ“¤ Importar movimientos</button>
              <div class="small-text" style="margin-top:0.5rem;">
                Solo se importan cargos (importes negativos). Cada cargo se aÃ±ade como gasto en la categorÃ­a "Banco".
              </div>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ“ Notas del mes</div>
              <div class="card-subtitle">
                AÃ±ade comentarios o recordatorios sobre el mes actual.
              </div>
            </div>
            <div class="card-tag">Notas</div>
          </div>
          <div class="field-group">
            <textarea id="notasMes" class="notes-box" placeholder="Ej: Este mes hubo gastos extra por..."></textarea>
          </div>
          <button class="btn btn-primary" id="btnSaveNotas">ğŸ’¾ Guardar notas</button>
        </section>

        <section class="card">
          <div class="card-header">
            <div>
              <div class="card-title">ğŸ—‘ï¸ Borrar todos los datos</div>
              <div class="card-subtitle">
                Resetea la aplicaciÃ³n al estado inicial. Esta acciÃ³n no se puede deshacer.
              </div>
            </div>
            <div class="card-tag">Peligro</div>
          </div>
          <button class="btn btn-danger" id="btnResetAll">ğŸ§¨ Borrar todo y empezar de cero</button>
          <div class="small-text" style="margin-top:0.75rem; color: #dc2626;">
            âš ï¸ Esta acciÃ³n eliminarÃ¡ permanentemente todos los datos guardados en este dispositivo.
          </div>
        </section>
      </section>
    
      </div>
    </main>
  </div>

  <nav class="bottom-nav">
    <div class="bottom-nav-inner">
      <button class="tab-btn active" data-tab-target="ingresos">
        <div class="tab-btn-icon">ğŸ’µ</div>
        <span class="label">Ingresos</span>
      </button>
      <button class="tab-btn" data-tab-target="fijos">
        <div class="tab-btn-icon">ğŸ </div>
        <span class="label">Fijos</span>
      </button>
      <button class="tab-btn" data-tab-target="gastos">
        <div class="tab-btn-icon">ğŸ›’</div>
        <span class="label">Gastos</span>
      </button>
      <button class="tab-btn" data-tab-target="sobres">
        <div class="tab-btn-icon">ğŸ“©</div>
        <span class="label">Sobres</span>
      </button>
      <button class="tab-btn" data-tab-target="huchas">
        <div class="tab-btn-icon">ğŸ·</div>
        <span class="label">Huchas</span>
      </button>
      <button class="tab-btn" data-tab-target="config">
        <div class="tab-btn-icon">âš™ï¸</div>
        <span class="label">Config</span>
      </button>
    </div>
  </nav>
<!-- Consola interna -->
<div id="internalConsole" style="
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  max-height: 40vh;
  background: rgba(0,0,0,0.85);
  color: #00ff99;
  font-family: monospace;
  font-size: 12px;
  padding: 10px;
  overflow-y: auto;
  display: none;
  z-index: 999999;
  border-top: 2px solid #00ff99;
"></div>

<!-- BotÃ³n oculto para abrir/cerrar -->
<div id="consoleToggle" style="
  position: fixed;
  bottom: 80px;
  right: 20px;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: #00ff99;
  color: #000;
  border: 2px solid #00ff99;
  font-size: 20px;
  font-weight: bold;
  box-shadow: 0 0 10px #00ff99aa;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 1000000;
">
  C
</div>
  <!-- Modal Informes Fijos -->
<div id="modalInformes" class="modal-overlay">
  <div class="modal-card informes-card">
    <h2>Informe de Gastos Fijos</h2>

    <div id="informesContenido" class="informes-contenido"></div>

    <button id="btnCerrarInformes" class="btn btn-secondary">Cerrar</button>
  </div>
</div> 
    <!-- Modal selecciÃ³n de avatar -->
  <div class="modal-overlay" id="avatarModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Elige tu avatar</div>
        <button class="modal-close" id="avatarModalClose">âœ•</button>
      </div>

      <div class="avatar-grid" id="avatarGridModal">
        <!-- FREE -->
        <button type="button" class="avatar-option" data-avatar-id="classic">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸ’°</span>
          </div>
          <span class="avatar-label">ClÃ¡sico</span>
        </button>

        <button type="button" class="avatar-option" data-avatar-id="minimal">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸ˜€</span>
          </div>
          <span class="avatar-label">Minimal</span>
        </button>

        <button type="button" class="avatar-option" data-avatar-id="focus">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸš€</span>
          </div>
          <span class="avatar-label">Focus</span>
        </button>

        <!-- PRO -->
        <button type="button" class="avatar-option avatar-pro" data-avatar-id="ocean">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸŒŠ</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Ocean</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="forest">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸŒ²</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Forest</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="robot">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸ¤–</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Robot</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="piggy">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸ·</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Hucha</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="music">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸ§</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">MÃºsica</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="business">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸ’¼</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Profesional</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="gamer">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸ•¹ï¸</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Gamer</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="traveler">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸ§­</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Traveler</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="volcano">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸŒ‹</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">VolcÃ¡n</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="gold">
          <div class="avatar-circle">
            <span class="avatar-emoji">â­</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Oro</span>
        </button>

        <button type="button" class="avatar-option avatar-pro" data-avatar-id="spectrum">
          <div class="avatar-circle">
            <span class="avatar-emoji">ğŸŒˆ</span>
            <span class="avatar-lock">PRO</span>
          </div>
          <span class="avatar-label">Spectrum</span>
        </button>
      </div>

      <div class="modal-footer">
        <button class="btn btn-outline" id="avatarModalCancel">Cerrar</button>
      </div>
    </div>
  </div>
  <script src="js/app.js"></script>
  <script src="js/swipe.js"></script>
</body>
</html>
